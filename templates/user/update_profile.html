{% include 'user/user_header.html' %}



<!-- <form method="post" enctype="multipart/form-data">
    {% for i in data %}
    <input type="text" name="fname" placeholder="first name" value="{{i.f_name}}" required><br>
    <input type="text" name="lname" placeholder="last name" value="{{i.l_name}}" required><br>
    <input type="date" name="dob" placeholder="dob" value="{{i.dob}}" required><br>
    <input type="text" name="gender" placeholder="gender" value="{{i.gender}}" required><br>
    <input type="text" name="place" placeholder="place" value="{{i.place}}" required><br>
    <input type="file" name="photos" placeholder="photo" required><br>
    <input type="number" name="phone" placeholder="phone" value="{{i.phone}}" required><br>
    <input type="email" name="email" placeholder="email" value="{{i.email}}" required><br>
    <input type="text" name="username" placeholder="username" value="{{i.username}}" required><br>
    <input type="submit" name="submit">
    {% endfor %}
</form> -->


<main class="main-wrapper col-md-9 ms-sm-auto py-4 col-lg-9 px-md-4 border-start">
    <div class="title-group mb-3">
        <h1 class="h2 mb-0">Settings</h1>
    </div>

    {% for i in data %}

    <div class="row my-4">
        <div class="col-lg-7 col-12">
            <div class="custom-block bg-white">
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="true">Profile</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="password-tab" data-bs-toggle="tab" data-bs-target="#password-tab-pane" type="button" role="tab" aria-controls="password-tab-pane" aria-selected="false">Password</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="notification-tab" data-bs-toggle="tab" data-bs-target="#notification-tab-pane" type="button" role="tab" aria-controls="notification-tab-pane" aria-selected="false">Notification</button>
                    </li>
                </ul>

                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
                        <h6 class="mb-4">User Profile</h6>
                        <form class="custom-form profile-form" id="profile-form" method="post" role="form" enctype="multipart/form-data" >
                            <input class="form-control mb-3" type="text" name="fname" id="profile-name" value="{{i.f_name}}" required>
                            <input class="form-control mb-3" type="text" name="lname" id="profile-lname" value="{{i.l_name}}" required>
                            <input class="form-control mb-3" type="date" name="dob" id="profile-dob" value="{{i.dob}}" required>
                            <input class="form-control mb-3" type="text" name="gender" id="profile-gender" value="{{i.gender}}" required>
                            <input class="form-control mb-3" type="text" name="place" id="profile-place" value="{{i.place}}" required>
                            <div class="input-group mb-3">
                                <img src="{{i.photo}}" class="profile-image img-fluid" alt="">
                                <input type="file" name="photos" value="{{i.photo}}" class="form-control" id="profile-photo">
                            </div>
                            <input class="form-control mb-3" type="number" name="phone" id="profile-phone" value="{{i.phone}}" required>
                            <input class="form-control mb-3" type="email" name="email" id="profile-email" value="{{i.email}}" required>
                            <input class="form-control mb-3" type="text" name="username" id="profile-username" value="{{i.username}}" required>
                            <div class="d-flex">
                                <button type="button" class="form-control me-3" onclick="resetForm('profile-form')">
                                    Undo
                                </button>
                                <button type="submit" name="submit" class="form-control ms-2">
                                    Update
                                </button>
                            </div>
                        </form>
                    </div>

                    <div class="tab-pane fade" id="password-tab-pane" role="tabpanel" aria-labelledby="password-tab" tabindex="0">
                        <h6 class="mb-4">Password</h6>
                        <form class="custom-form password-form" onsubmit="return validatePassword()" id="password-form" method="post" role="form">
                            <input type="password" name="current_password" id="current_password"  class="form-control mb-3" placeholder="Current Password" required>
                            <input type="password" name="password" id="password" class="form-control mb-3" placeholder="New Password" required>
                            <input type="password" name="confirm_password" id="confirm_password" class="form-control mb-3" placeholder="Confirm Password" required>
                            <div class="d-flex">
                                <button type="button" class="form-control me-3" onclick="resetForm('password-form')">
                                    Reset
                                </button>
                                <button type="submit" name="subm" class="form-control ms-2">
                                    Update Password
                                </button>
                            </div>
                        </form>
                    </div>

                    <div class="tab-pane fade" id="notification-tab-pane" role="tabpanel" aria-labelledby="notification-tab" tabindex="0">
                        <h6 class="mb-4">Notification</h6>
                        <form class="custom-form notification-form" id="notification-form" method="post" role="form">
                            <div class="form-check form-switch d-flex mb-3 ps-0">
                                <label class="form-check-label" for="flexSwitchCheckCheckedOne">Account activity</label>
                                <input class="form-check-input ms-auto" type="checkbox" name="account_activity" role="switch" id="flexSwitchCheckCheckedOne" checked>
                            </div>
                        
                            <div class="d-flex mt-4">
                                <button type="button" class="form-control me-3" onclick="resetForm('notification-form')">
                                    Reset
                                </button>
                                <button type="submit" class="form-control ms-2">
                                    Update Notifications
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-5 col-12">
            <div class="custom-block custom-block-contact">
                <h6 class="mb-4">Are there any bugs you're experiencing with us?</h6>

                <p>
                    <strong>Write a complaint to us:</strong>
                    
                </p>

                <a href="/complaint" class="btn custom-btn custom-btn-bg-white mt-3">
                    Complaint Form
                </a>
            </div>
        </div>
    </div>
    {% endfor %}

    <script>
        function validatePassword() {
            var password = document.getElementById("password").value;
            var confirm_password = document.getElementById("confirm_password").value;
        
            if (password === "") {
                alert("Please enter the new password.");
                return false;
            }
        
            if (password !== confirm_password) {
                alert("Passwords do not match. Please try again.");
                return false;
            }
        
            return true;
        }
        </script>

    <script>
        function resetForm(formId) {
            // Get the form element by ID
            const form = document.getElementById(formId);
            // Log to console for debugging purposes
            console.log(`Resetting form with ID: ${formId}`);
            // Check if form exists, then reset
            if (form) {
                form.reset();
                console.log('Form reset successfully');
            } else {
                console.log('Form not found');
            }
        }
    </script>
</main>

{% include 'user/footer.html' %}
